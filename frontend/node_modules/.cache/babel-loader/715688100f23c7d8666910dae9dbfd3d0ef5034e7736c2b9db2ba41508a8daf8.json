{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Thomas\\\\Desktop\\\\Coding Projects\\\\Python\\\\Secret-Hitler-App\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, useNavigate, useParams } from 'react-router-dom';\nimport { Box, Container, TextField, Button, Typography, Card, CardContent, Alert } from '@mui/material';\nimport Lobby from './components/Lobby';\nimport GameBoard from './components/GameBoard';\nimport PlayerMenu from './components/PlayerMenu';\nimport Voting from './components/Voting';\nimport RoleCard from './components/RoleCard';\nimport wsService from './services/websocket';\nimport { Phase, getFascistPlayers } from './utils/gameState';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [gameCode, setGameCode] = useState('');\n  const [playerName, setPlayerName] = useState('');\n  const [error, setError] = useState(null);\n  const handleCreateGame = async () => {\n    if (!playerName.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n    try {\n      setError(null);\n      const apiHost = process.env.REACT_APP_API_HOST || 'http://localhost:8000';\n      const response = await fetch(`${apiHost}/api/create-game`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (data.game_id) {\n        navigate(`/game/${data.game_id}/${encodeURIComponent(playerName)}`);\n      } else {\n        setError('Invalid response from server');\n      }\n    } catch (err) {\n      console.error('Error creating game:', err);\n      setError(`Failed to create game: ${err.message}. Make sure the backend server is running on port 8000.`);\n    }\n  };\n  const handleJoinGame = () => {\n    if (!playerName.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n    if (!gameCode.trim()) {\n      setError('Please enter a game code');\n      return;\n    }\n    navigate(`/game/${gameCode.toUpperCase()}/${encodeURIComponent(playerName)}`);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    sx: {\n      mt: 8\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          p: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          gutterBottom: true,\n          align: \"center\",\n          children: \"Secret Hitler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          align: \"center\",\n          color: \"text.secondary\",\n          sx: {\n            mb: 4\n          },\n          children: \"A social deduction game for 5-10 players\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Your Name\",\n          variant: \"outlined\",\n          value: playerName,\n          onChange: e => setPlayerName(e.target.value),\n          sx: {\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            variant: \"contained\",\n            color: \"primary\",\n            size: \"large\",\n            onClick: handleCreateGame,\n            sx: {\n              mb: 2\n            },\n            children: \"Create Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            align: \"center\",\n            color: \"text.secondary\",\n            sx: {\n              mb: 2\n            },\n            children: \"OR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"Game Code\",\n            variant: \"outlined\",\n            value: gameCode,\n            onChange: e => setGameCode(e.target.value.toUpperCase()),\n            sx: {\n              mb: 2\n            },\n            placeholder: \"Enter game code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            fullWidth: true,\n            variant: \"outlined\",\n            color: \"primary\",\n            size: \"large\",\n            onClick: handleJoinGame,\n            children: \"Join Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          onClose: () => setError(null),\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"jKUKLFxBqyTktHS6TVz96Smfzr4=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nconst GamePage = () => {\n  _s2();\n  var _gameState$players;\n  const {\n    gameId,\n    playerName\n  } = useParams();\n  const navigate = useNavigate();\n  const [gameState, setGameState] = useState(null);\n  const [roleRevealed, setRoleRevealed] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!gameId || !playerName) {\n      navigate('/');\n      return;\n    }\n\n    // Set up WebSocket handlers\n    const handleGameState = payload => {\n      setGameState(payload);\n    };\n    const handleGameStarted = payload => {\n      setGameState(payload);\n      setRoleRevealed(true);\n    };\n    const handleError = payload => {\n      setError(payload.message || 'An error occurred');\n    };\n    const handlePlayerDisconnected = () => {\n      setError('Connection lost. Attempting to reconnect...');\n    };\n    wsService.on('game_state', handleGameState);\n    wsService.on('game_started', handleGameStarted);\n    wsService.on('error', handleError);\n    wsService.addEventListener('disconnected', handlePlayerDisconnected);\n\n    // Connect to WebSocket\n    wsService.connect(gameId, decodeURIComponent(playerName));\n\n    // Fetch initial game state\n    const apiHost = process.env.REACT_APP_API_HOST || 'http://localhost:8000';\n    fetch(`${apiHost}/api/game/${gameId}`).then(res => {\n      if (!res.ok) {\n        throw new Error(`HTTP error! status: ${res.status}`);\n      }\n      return res.json();\n    }).then(data => {\n      setGameState(data);\n    }).catch(err => {\n      console.error('Error loading game:', err);\n      setError(`Failed to load game: ${err.message}`);\n    });\n    return () => {\n      wsService.off('game_state', handleGameState);\n      wsService.off('game_started', handleGameStarted);\n      wsService.off('error', handleError);\n      wsService.removeEventListener('disconnected', handlePlayerDisconnected);\n      wsService.disconnect();\n    };\n  }, [gameId, playerName, navigate]);\n  if (!gameState) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        mt: 4,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        children: \"Loading game...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this);\n  }\n  const decodedPlayerName = decodeURIComponent(playerName);\n  const currentPlayer = (_gameState$players = gameState.players) === null || _gameState$players === void 0 ? void 0 : _gameState$players.find(p => p.name === decodedPlayerName);\n  const fascistAllies = gameState.players ? getFascistPlayers(gameState, decodedPlayerName) : [];\n\n  // Show lobby if game hasn't started\n  if (!gameState.game_started) {\n    return /*#__PURE__*/_jsxDEV(Lobby, {\n      gameId: gameId,\n      playerName: decodedPlayerName,\n      onGameStart: payload => {\n        setGameState(payload);\n        setRoleRevealed(true);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show role card if game just started\n  if (gameState.game_started && !roleRevealed && currentPlayer !== null && currentPlayer !== void 0 && currentPlayer.role) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"md\",\n      sx: {\n        mt: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(RoleCard, {\n        role: currentPlayer.role,\n        fascistAllies: fascistAllies\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 3,\n          textAlign: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => setRoleRevealed(true),\n          children: \"Continue to Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      onClose: () => setError(null),\n      sx: {\n        m: 2\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(GameBoard, {\n      gameState: gameState,\n      playerName: decodedPlayerName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), gameState.current_phase === Phase.VOTING && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'fixed',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        p: 2,\n        backgroundColor: 'white',\n        boxShadow: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Voting, {\n        gameState: gameState,\n        playerName: decodedPlayerName,\n        onVote: () => {},\n        wsService: wsService\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        position: 'fixed',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        maxHeight: '40vh',\n        overflowY: 'auto',\n        backgroundColor: 'white',\n        boxShadow: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(PlayerMenu, {\n        gameState: gameState,\n        playerName: decodedPlayerName,\n        wsService: wsService\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        height: '40vh'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }, this);\n};\n_s2(GamePage, \"5F6JEzKCU09YiEDExsJt4x1hXaU=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c2 = GamePage;\nconst JoinPage = () => {\n  _s3();\n  const {\n    gameId\n  } = useParams();\n  const navigate = useNavigate();\n  const [playerName, setPlayerName] = useState('');\n  const [error, setError] = useState(null);\n  const handleJoin = () => {\n    if (!playerName.trim()) {\n      setError('Please enter your name');\n      return;\n    }\n    navigate(`/game/${gameId}/${encodeURIComponent(playerName)}`);\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    sx: {\n      mt: 8\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          p: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          gutterBottom: true,\n          align: \"center\",\n          children: \"Join Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          align: \"center\",\n          color: \"text.secondary\",\n          sx: {\n            mb: 4\n          },\n          children: [\"Game Code: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: gameId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          label: \"Your Name\",\n          variant: \"outlined\",\n          value: playerName,\n          onChange: e => setPlayerName(e.target.value),\n          onKeyPress: e => {\n            if (e.key === 'Enter') {\n              handleJoin();\n            }\n          },\n          sx: {\n            mb: 2\n          },\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"large\",\n          onClick: handleJoin,\n          sx: {\n            mb: 2\n          },\n          children: \"Join Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          onClose: () => setError(null),\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\n_s3(JoinPage, \"Dl9AO3eDF87wJA3hJHmN2McVndo=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c3 = JoinPage;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/join/:gameId\",\n        element: /*#__PURE__*/_jsxDEV(JoinPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/game/:gameId/:playerName\",\n        element: /*#__PURE__*/_jsxDEV(GamePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 58\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 356,\n    columnNumber: 5\n  }, this);\n}\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"HomePage\");\n$RefreshReg$(_c2, \"GamePage\");\n$RefreshReg$(_c3, \"JoinPage\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","useNavigate","useParams","Box","Container","TextField","Button","Typography","Card","CardContent","Alert","Lobby","GameBoard","PlayerMenu","Voting","RoleCard","wsService","Phase","getFascistPlayers","jsxDEV","_jsxDEV","HomePage","_s","navigate","gameCode","setGameCode","playerName","setPlayerName","error","setError","handleCreateGame","trim","apiHost","process","env","REACT_APP_API_HOST","response","fetch","method","headers","ok","Error","status","data","json","game_id","encodeURIComponent","err","console","message","handleJoinGame","toUpperCase","maxWidth","sx","mt","children","p","variant","gutterBottom","align","fileName","_jsxFileName","lineNumber","columnNumber","color","mb","fullWidth","label","value","onChange","e","target","size","onClick","placeholder","severity","onClose","_c","GamePage","_s2","_gameState$players","gameId","gameState","setGameState","roleRevealed","setRoleRevealed","handleGameState","payload","handleGameStarted","handleError","handlePlayerDisconnected","on","addEventListener","connect","decodeURIComponent","then","res","catch","off","removeEventListener","disconnect","textAlign","decodedPlayerName","currentPlayer","players","find","name","fascistAllies","game_started","onGameStart","role","m","current_phase","VOTING","position","bottom","left","right","backgroundColor","boxShadow","onVote","maxHeight","overflowY","height","_c2","JoinPage","_s3","handleJoin","onKeyPress","key","autoFocus","_c3","App","path","element","_c4","$RefreshReg$"],"sources":["C:/Users/Thomas/Desktop/Coding Projects/Python/Secret-Hitler-App/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, useNavigate, useParams } from 'react-router-dom';\r\nimport {\r\n  Box,\r\n  Container,\r\n  TextField,\r\n  Button,\r\n  Typography,\r\n  Card,\r\n  CardContent,\r\n  Alert\r\n} from '@mui/material';\r\nimport Lobby from './components/Lobby';\r\nimport GameBoard from './components/GameBoard';\r\nimport PlayerMenu from './components/PlayerMenu';\r\nimport Voting from './components/Voting';\r\nimport RoleCard from './components/RoleCard';\r\nimport wsService from './services/websocket';\r\nimport { Phase, getFascistPlayers } from './utils/gameState';\r\n\r\nconst HomePage = () => {\r\n  const navigate = useNavigate();\r\n  const [gameCode, setGameCode] = useState('');\r\n  const [playerName, setPlayerName] = useState('');\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleCreateGame = async () => {\r\n    if (!playerName.trim()) {\r\n      setError('Please enter your name');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setError(null);\r\n      const apiHost = process.env.REACT_APP_API_HOST || 'http://localhost:8000';\r\n      const response = await fetch(`${apiHost}/api/create-game`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      if (data.game_id) {\r\n        navigate(`/game/${data.game_id}/${encodeURIComponent(playerName)}`);\r\n      } else {\r\n        setError('Invalid response from server');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error creating game:', err);\r\n      setError(`Failed to create game: ${err.message}. Make sure the backend server is running on port 8000.`);\r\n    }\r\n  };\r\n\r\n  const handleJoinGame = () => {\r\n    if (!playerName.trim()) {\r\n      setError('Please enter your name');\r\n      return;\r\n    }\r\n    if (!gameCode.trim()) {\r\n      setError('Please enter a game code');\r\n      return;\r\n    }\r\n    navigate(`/game/${gameCode.toUpperCase()}/${encodeURIComponent(playerName)}`);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\r\n      <Card>\r\n        <CardContent sx={{ p: 4 }}>\r\n          <Typography variant=\"h3\" gutterBottom align=\"center\">\r\n            Secret Hitler\r\n          </Typography>\r\n          <Typography variant=\"body1\" align=\"center\" color=\"text.secondary\" sx={{ mb: 4 }}>\r\n            A social deduction game for 5-10 players\r\n          </Typography>\r\n\r\n          <TextField\r\n            fullWidth\r\n            label=\"Your Name\"\r\n            variant=\"outlined\"\r\n            value={playerName}\r\n            onChange={(e) => setPlayerName(e.target.value)}\r\n            sx={{ mb: 2 }}\r\n          />\r\n\r\n          <Box sx={{ mb: 2 }}>\r\n            <Button\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={handleCreateGame}\r\n              sx={{ mb: 2 }}\r\n            >\r\n              Create Game\r\n            </Button>\r\n\r\n            <Typography variant=\"body2\" align=\"center\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n              OR\r\n            </Typography>\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Game Code\"\r\n              variant=\"outlined\"\r\n              value={gameCode}\r\n              onChange={(e) => setGameCode(e.target.value.toUpperCase())}\r\n              sx={{ mb: 2 }}\r\n              placeholder=\"Enter game code\"\r\n            />\r\n\r\n            <Button\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={handleJoinGame}\r\n            >\r\n              Join Game\r\n            </Button>\r\n          </Box>\r\n\r\n          {error && (\r\n            <Alert severity=\"error\" onClose={() => setError(null)}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst GamePage = () => {\r\n  const { gameId, playerName } = useParams();\r\n  const navigate = useNavigate();\r\n  const [gameState, setGameState] = useState(null);\r\n  const [roleRevealed, setRoleRevealed] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!gameId || !playerName) {\r\n      navigate('/');\r\n      return;\r\n    }\r\n\r\n    // Set up WebSocket handlers\r\n    const handleGameState = (payload) => {\r\n      setGameState(payload);\r\n    };\r\n\r\n    const handleGameStarted = (payload) => {\r\n      setGameState(payload);\r\n      setRoleRevealed(true);\r\n    };\r\n\r\n    const handleError = (payload) => {\r\n      setError(payload.message || 'An error occurred');\r\n    };\r\n\r\n    const handlePlayerDisconnected = () => {\r\n      setError('Connection lost. Attempting to reconnect...');\r\n    };\r\n\r\n    wsService.on('game_state', handleGameState);\r\n    wsService.on('game_started', handleGameStarted);\r\n    wsService.on('error', handleError);\r\n    wsService.addEventListener('disconnected', handlePlayerDisconnected);\r\n\r\n    // Connect to WebSocket\r\n    wsService.connect(gameId, decodeURIComponent(playerName));\r\n\r\n    // Fetch initial game state\r\n    const apiHost = process.env.REACT_APP_API_HOST || 'http://localhost:8000';\r\n    fetch(`${apiHost}/api/game/${gameId}`)\r\n      .then(res => {\r\n        if (!res.ok) {\r\n          throw new Error(`HTTP error! status: ${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then(data => {\r\n        setGameState(data);\r\n      })\r\n      .catch(err => {\r\n        console.error('Error loading game:', err);\r\n        setError(`Failed to load game: ${err.message}`);\r\n      });\r\n\r\n    return () => {\r\n      wsService.off('game_state', handleGameState);\r\n      wsService.off('game_started', handleGameStarted);\r\n      wsService.off('error', handleError);\r\n      wsService.removeEventListener('disconnected', handlePlayerDisconnected);\r\n      wsService.disconnect();\r\n    };\r\n  }, [gameId, playerName, navigate]);\r\n\r\n  if (!gameState) {\r\n    return (\r\n      <Container sx={{ mt: 4, textAlign: 'center' }}>\r\n        <Typography>Loading game...</Typography>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  const decodedPlayerName = decodeURIComponent(playerName);\r\n  const currentPlayer = gameState.players?.find(p => p.name === decodedPlayerName);\r\n  const fascistAllies = gameState.players ? getFascistPlayers(gameState, decodedPlayerName) : [];\r\n\r\n  // Show lobby if game hasn't started\r\n  if (!gameState.game_started) {\r\n    return (\r\n      <Lobby\r\n        gameId={gameId}\r\n        playerName={decodedPlayerName}\r\n        onGameStart={(payload) => {\r\n          setGameState(payload);\r\n          setRoleRevealed(true);\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  // Show role card if game just started\r\n  if (gameState.game_started && !roleRevealed && currentPlayer?.role) {\r\n    return (\r\n      <Container maxWidth=\"md\" sx={{ mt: 4 }}>\r\n        <RoleCard \r\n          role={currentPlayer.role} \r\n          fascistAllies={fascistAllies}\r\n        />\r\n        <Box sx={{ mt: 3, textAlign: 'center' }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setRoleRevealed(true)}\r\n          >\r\n            Continue to Game\r\n          </Button>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      {error && (\r\n        <Alert \r\n          severity=\"error\" \r\n          onClose={() => setError(null)}\r\n          sx={{ m: 2 }}\r\n        >\r\n          {error}\r\n        </Alert>\r\n      )}\r\n\r\n      <GameBoard gameState={gameState} playerName={decodedPlayerName} />\r\n\r\n      {/* Voting Phase */}\r\n      {gameState.current_phase === Phase.VOTING && (\r\n        <Box sx={{ position: 'fixed', bottom: 0, left: 0, right: 0, p: 2, backgroundColor: 'white', boxShadow: 3 }}>\r\n          <Voting\r\n            gameState={gameState}\r\n            playerName={decodedPlayerName}\r\n            onVote={() => {}}\r\n            wsService={wsService}\r\n          />\r\n        </Box>\r\n      )}\r\n\r\n      {/* Player Menu (always visible at bottom) */}\r\n      <Box sx={{ position: 'fixed', bottom: 0, left: 0, right: 0, maxHeight: '40vh', overflowY: 'auto', backgroundColor: 'white', boxShadow: 3 }}>\r\n        <PlayerMenu\r\n          gameState={gameState}\r\n          playerName={decodedPlayerName}\r\n          wsService={wsService}\r\n        />\r\n      </Box>\r\n\r\n      {/* Spacer to prevent content from being hidden behind fixed menu */}\r\n      <Box sx={{ height: '40vh' }} />\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst JoinPage = () => {\r\n  const { gameId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [playerName, setPlayerName] = useState('');\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleJoin = () => {\r\n    if (!playerName.trim()) {\r\n      setError('Please enter your name');\r\n      return;\r\n    }\r\n    navigate(`/game/${gameId}/${encodeURIComponent(playerName)}`);\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\r\n      <Card>\r\n        <CardContent sx={{ p: 4 }}>\r\n          <Typography variant=\"h3\" gutterBottom align=\"center\">\r\n            Join Game\r\n          </Typography>\r\n          <Typography variant=\"body1\" align=\"center\" color=\"text.secondary\" sx={{ mb: 4 }}>\r\n            Game Code: <strong>{gameId}</strong>\r\n          </Typography>\r\n\r\n          <TextField\r\n            fullWidth\r\n            label=\"Your Name\"\r\n            variant=\"outlined\"\r\n            value={playerName}\r\n            onChange={(e) => setPlayerName(e.target.value)}\r\n            onKeyPress={(e) => {\r\n              if (e.key === 'Enter') {\r\n                handleJoin();\r\n              }\r\n            }}\r\n            sx={{ mb: 2 }}\r\n            autoFocus\r\n          />\r\n\r\n          <Button\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            size=\"large\"\r\n            onClick={handleJoin}\r\n            sx={{ mb: 2 }}\r\n          >\r\n            Join Game\r\n          </Button>\r\n\r\n          {error && (\r\n            <Alert severity=\"error\" onClose={() => setError(null)}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<HomePage />} />\r\n        <Route path=\"/join/:gameId\" element={<JoinPage />} />\r\n        <Route path=\"/game/:gameId/:playerName\" element={<GamePage />} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}